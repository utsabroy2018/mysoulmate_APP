"use strict";(self.webpackChunkhoroscope=self.webpackChunkhoroscope||[]).push([[262],{4118:(M,l,s)=>{s.r(l),s.d(l,{ChangePasswordModule:()=>I});var p=s(6895),r=s(4006),e=s(4650),m=s(2498),d=s(2761),f=s(5543),a=s(9549),c=s(4144),h=s(7392),u=s(4859),w=s(5105);function v(o,g){1&o&&(e.TgZ(0,"div",7),e._UZ(1,"img",8),e.TgZ(2,"p"),e._uU(3," Link has been expired..!"),e.qZA(),e.TgZ(4,"p"),e._uU(5,'To reset your password,return to the login page and select "forget your password" to send a new email.'),e.qZA()())}function x(o,g){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorPass," ")}}function _(o,g){if(1&o){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",3)(2,"div",10)(3,"h2"),e._uU(4,"Forget Password "),e.qZA()(),e.TgZ(5,"div",11)(6,"div",12)(7,"form",13)(8,"div",14)(9,"div",15)(10,"div",16)(11,"mat-form-field")(12,"mat-label"),e._uU(13,"Enter New Password"),e.qZA(),e.TgZ(14,"input",17),e.NdJ("keyup",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.validatePasswordMatch())}),e.qZA(),e.TgZ(15,"button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.hide_new=!i.hide_new)}),e.TgZ(16,"mat-icon"),e._uU(17),e.qZA()()()()(),e.TgZ(18,"div",15)(19,"div",16)(20,"mat-form-field")(21,"mat-label"),e._uU(22,"Confirm Password"),e.qZA(),e.TgZ(23,"input",19),e.NdJ("keyup",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.validatePasswordMatch())}),e.qZA(),e.TgZ(24,"button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.hide_con=!i.hide_con)}),e.TgZ(25,"mat-icon"),e._uU(26),e.qZA()()(),e.TgZ(27,"small",20),e.YNc(28,x,2,1,"ng-container",21),e.qZA()()(),e.TgZ(29,"input",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.submit())}),e.qZA()()()()()()()}if(2&o){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.passwordForm),e.xp6(7),e.Q6J("type",t.hide_new?"password":"text"),e.xp6(1),e.uIk("aria-label","Hide password")("aria-pressed",t.hide_new),e.xp6(2),e.Oqu(t.hide_new?"visibility_off":"visibility"),e.xp6(6),e.Q6J("type",t.hide_con?"password":"text"),e.xp6(1),e.uIk("aria-label","Hide password")("aria-pressed",t.hide_con),e.xp6(2),e.Oqu(t.hide_con?"visibility_off":"visibility"),e.xp6(2),e.Q6J("ngIf",t.errorPass),e.xp6(1),e.Q6J("disabled",t.passwordForm.invalid||t.isButtonDisabled)}}let C=(()=>{class o{constructor(t,n,i,J){this.service=t,this.router=n,this.route=i,this.sds=J,this.withoutLogin_headerShow=!1,this.afterLogin_headerShow=!0,this.isButtonDisabled=!1,this.linkExpired=!1,this.hide_old=!0,this.hide_new=!0,this.hide_con=!0,this.passwordForm=new r.cw({new_pass_1:new r.NI("",[r.kI.required]),new_pass:new r.NI("",[r.kI.required])}),this.profile_UserIdGet=this.sds.decrypt(this.route.snapshot.paramMap.get("email_Id")),this.isLogin=this.service.login(),this.isLogin?(this.afterLogin_headerShow=!1,this.withoutLogin_headerShow=!0):(this.afterLogin_headerShow=!0,this.withoutLogin_headerShow=!1)}ngOnInit(){this.currentDate=new Date,console.log(this.currentDate,"currentDate");const t=this.currentDate.getTime()-864e5;this.twentyFourHoursAgo=new Date(t),console.log(this.twentyFourHoursAgo,"twentyFourHoursAgo"),this.twentyFourHoursAgo<this.currentDate?(this.linkExpired=!0,console.log("Link has been expired","currentDate")):console.log("twentyFourHoursAgo")}submit(){this.passData={email_id:this.profile_UserIdGet,pass:this.passwordForm.controls.new_pass_1.value},console.log(this.passData),this.service.global_service(1,"/profile/update_forget_pass",{data:btoa(JSON.stringify(this.passData))}).subscribe(t=>{console.log(t)})}validatePasswordMatch(){const t=this.passwordForm.get("new_pass_1")?.value,n=this.passwordForm.get("new_pass")?.value;t===n?(this.passwordForm.setErrors(null),this.errorPass="",this.isButtonDisabled=!1):(this.errorPass="*Confirm password should be same as new password",this.isButtonDisabled=!0)}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(m.D),e.Y36(d.F0),e.Y36(d.gz),e.Y36(f.U))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-change-password"]],decls:7,vars:3,consts:[[1,"forResponsiveHeader_login"],[3,"hidden"],[1,"otp_wrapper"],[1,"col-sm-12"],[1,"white_block_forget","white_blockOTP"],["class","expired",4,"ngIf"],["class","row",4,"ngIf"],[1,"expired"],["src","assets/images/expired.png","alt",""],[1,"row"],[1,"title_sec_main"],[1,"innerDefaultPage"],[1,"otpField_Main"],["autocomplete","off",3,"formGroup"],[1,"otpField_Main_sub"],[1,"otpField_Sub_field"],[1,"field_outer_label","field_outer_label_OTP"],["matInput","","formControlName","new_pass_1",3,"type","keyup"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","formControlName","new_pass",3,"type","keyup"],[1,"text-danger"],[4,"ngIf"],["type","button","value","Submit",3,"disabled","click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"app-headerResponsive",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4),e.YNc(5,v,6,0,"div",5),e.YNc(6,_,30,11,"div",6),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("hidden",i.afterLogin_headerShow),e.xp6(4),e.Q6J("ngIf",!i.linkExpired),e.xp6(1),e.Q6J("ngIf",i.linkExpired))},dependencies:[p.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,a.KE,a.hX,a.R9,c.Nt,h.Hw,u.RK,w.A],styles:[".white_block_forget[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 0 18px 2px #cecece;padding:45px 20px;display:inline-block;width:100%;margin-bottom:40px;margin-top:40px}.expired[_ngcontent-%COMP%]{height:30vh;display:flex;align-items:center;color:red;font-size:16px;flex-direction:column;align-content:stretch;font-weight:bolder}.expired[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px}"]})}return o})();var y=s(4385),P=s(1948),Z=s(6709),b=s(4850),T=s(2570),F=s(8874),A=s(9873);const D=[{path:"",component:C}];let I=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.oAB({type:o});static#s=this.\u0275inj=e.cJS({imports:[p.ez,r.u5,r.UX,y.LD,a.lN,c.c,P.Fk,Z.p9,h.Ps,b.t,u.ot,T.t,F.I,A.W,d.Bz.forChild(D)]})}return o})()}}]);