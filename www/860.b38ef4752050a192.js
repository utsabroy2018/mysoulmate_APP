"use strict";(self.webpackChunkhoroscope=self.webpackChunkhoroscope||[]).push([[860],{4860:(Y,u,n)=>{n.r(u),n.d(u,{SettingsModule:()=>U});var p=n(6895),a=n(4006),t=n(4650),f=n(2498),v=n(191),m=n(2761),w=n(5543),h=n(4144),c=n(9549),_=n(7392),g=n(4859);function T(s,l){1&s&&(t.TgZ(0,"div",21),t._uU(1," *Old Password is required "),t.qZA())}function k(s,l){if(1&s&&(t.ynx(0),t._uU(1),t.BQk()),2&s){const i=t.oxw(2);t.xp6(1),t.hij(" ",i.errorPass," ")}}function Z(s,l){1&s&&t._uU(0,"Minimum 8 characters, Minimum one uppercase and One special Character.")}function S(s,l){if(1&s&&(t.TgZ(0,"div",22)(1,"small",23),t.YNc(2,k,2,1,"ng-container",24),t.YNc(3,Z,1,0,"ng-template",null,25,t.W1O),t.qZA()()),2&s){const i=t.MAs(4),o=t.oxw();t.xp6(2),t.Q6J("ngIf",o.errorPass)("ngIfElse",i)}}function y(s,l){if(1&s&&(t.ynx(0),t._uU(1),t.BQk()),2&s){const i=t.oxw(2);t.xp6(1),t.hij("\n",i.errorPass,"\n")}}function b(s,l){1&s&&t._uU(0,"Minimum 8 characters, Minimum one uppercase and One special Character.")}function C(s,l){if(1&s&&(t.TgZ(0,"div",22)(1,"small",23),t.YNc(2,y,2,1,"ng-container",24),t.YNc(3,b,1,0,"ng-template",null,25,t.W1O),t.qZA()()),2&s){const i=t.MAs(4),o=t.oxw();t.xp6(2),t.Q6J("ngIf",o.errorPass)("ngIfElse",i)}}let N=(()=>{class s{constructor(i,o,e,r,d,x){this.service=i,this.msgService=o,this.router=e,this.formBuilder=r,this.sds=d,this.location=x,this.hide_old=!0,this.hide_new=!0,this.hide_con=!0,this.isButtonDisabled=!1,this.checkPassword=!0,this.passwordForm=new a.cw({old_pass:new a.NI("",[a.kI.required]),new_pass_1:new a.NI("",[a.kI.required]),new_pass:new a.NI("",[a.kI.required])}),this.getLocalSecrectUrl=this.sds.getLocalSecrectData()}ngOnInit(){this.localstorageDT={id:this.getLocalSecrectUrl.data.id,user_name:this.getLocalSecrectUrl.data.user_name}}goBack(){this.location.back()}savebtn(){const i=this.passwordForm.get("new_pass_1")?.value,o=this.passwordForm.get("new_pass")?.value;i===o?(this.dt={user_id:this.localstorageDT.id,user:this.localstorageDT.user_name,old_pass:this.passwordForm.controls.old_pass.value,new_pass:this.passwordForm.controls.new_pass.value},this.service.global_service(1,"/user/update_pass",{data:btoa(JSON.stringify(this.dt))}).subscribe(e=>{this.responseData=e,this.responseData.suc>0?this.msgService.successMsg("SS"):this.msgService.errorMsg("ES")})):(this.errorPass="*The password confirmation does not match",this.isButtonDisabled=!0)}validCheck(i){const o=i.target.value;this.checkPassword=!(!/[\W_]/.test(o)||!/[A-Z]/.test(o)||o.length<8)}validatePasswordMatch(){const i=this.passwordForm.get("new_pass_1")?.value,o=this.passwordForm.get("new_pass")?.value;i===o?(this.passwordForm.setErrors(null),this.errorPass="",this.isButtonDisabled=!1):(this.errorPass="*The password does not match",this.isButtonDisabled=!0)}static#t=this.\u0275fac=function(o){return new(o||s)(t.Y36(f.D),t.Y36(v.e),t.Y36(m.F0),t.Y36(a.qu),t.Y36(w.U),t.Y36(p.Ye))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-settings"]],decls:48,vars:17,consts:[[1,"col-sm-12","float-left","portfolio_right"],[1,"sectionTitle_Res","mb-3"],[1,"backBtn",3,"click"],["src","assets/images/turn-back.png","alt",""],[1,"white_block"],[1,"title_sec"],[1,"edit_portfolio_field_group_main"],["autocomplete","off",1,"form-group","setting_custome","row",3,"formGroup"],[1,"col-sm-6"],[1,"field_outer_label"],["matInput","","formControlName","old_pass",3,"type"],["pw_old",""],["mat-icon-button","","matSuffix","",3,"click"],["class","validation_div",4,"ngIf"],["matInput","","formControlName","new_pass_1",3,"type","keyup"],["pw",""],["style","position: absolute; top: 100%; line-height: 15px;",4,"ngIf"],["matInput","","formControlName","new_pass",3,"type","keyup"],["cpw",""],[1,"portfolio_edit_Form_btn"],["type","button",3,"click"],[1,"validation_div"],[2,"position","absolute","top","100%","line-height","15px"],[1,"text-danger"],[4,"ngIf","ngIfElse"],["templateName",""]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return e.goBack()}),t._UZ(3,"img",3),t._uU(4," Back"),t.qZA()(),t.TgZ(5,"div",4)(6,"div",5)(7,"h2"),t._uU(8,"Reset Password "),t.qZA()(),t.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"mat-form-field")(14,"mat-label"),t._uU(15,"Enter Old Password"),t.qZA(),t._UZ(16,"input",10,11),t.TgZ(18,"button",12),t.NdJ("click",function(){return e.hide_old=!e.hide_old}),t.TgZ(19,"mat-icon"),t._uU(20),t.qZA()()(),t.YNc(21,T,2,0,"div",13),t.qZA()()(),t.TgZ(22,"div",7)(23,"div",8)(24,"div",9)(25,"mat-form-field")(26,"mat-label"),t._uU(27,"Enter New Password"),t.qZA(),t.TgZ(28,"input",14,15),t.NdJ("keyup",function(){return e.validatePasswordMatch()})("keyup",function(d){return e.validCheck(d)}),t.qZA(),t.TgZ(30,"button",12),t.NdJ("click",function(){return e.hide_new=!e.hide_new}),t.TgZ(31,"mat-icon"),t._uU(32),t.qZA()()(),t.YNc(33,S,5,2,"div",16),t.qZA()(),t.TgZ(34,"div",8)(35,"div",9)(36,"mat-form-field")(37,"mat-label"),t._uU(38,"Confirm Password"),t.qZA(),t.TgZ(39,"input",17,18),t.NdJ("keyup",function(){return e.validatePasswordMatch()})("keyup",function(d){return e.validCheck(d)}),t.qZA(),t.TgZ(41,"button",12),t.NdJ("click",function(){return e.hide_con=!e.hide_con}),t.TgZ(42,"mat-icon"),t._uU(43),t.qZA()()(),t.YNc(44,C,5,2,"div",16),t.qZA()()()(),t.TgZ(45,"div",19)(46,"button",20),t.NdJ("click",function(){return e.savebtn()}),t._uU(47,"Save"),t.qZA()()()()),2&o&&(t.xp6(10),t.Q6J("formGroup",e.passwordForm),t.xp6(6),t.Q6J("type",e.hide_old?"password":"text"),t.xp6(2),t.uIk("aria-label","Hide password")("aria-pressed",e.hide_old),t.xp6(2),t.Oqu(e.hide_old?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",!(null!=e.passwordForm.controls.old_pass&&e.passwordForm.controls.old_pass.valid)&&((null==e.passwordForm.controls.old_pass?null:e.passwordForm.controls.old_pass.dirty)||(null==e.passwordForm.controls.old_pass?null:e.passwordForm.controls.old_pass.touched))),t.xp6(1),t.Q6J("formGroup",e.passwordForm),t.xp6(6),t.Q6J("type",e.hide_new?"password":"text"),t.xp6(2),t.uIk("aria-label","Hide password")("aria-pressed",e.hide_new),t.xp6(2),t.Oqu(e.hide_new?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",!e.checkPassword),t.xp6(6),t.Q6J("type",e.hide_con?"password":"text"),t.xp6(2),t.uIk("aria-label","Hide password")("aria-pressed",e.hide_con),t.xp6(2),t.Oqu(e.hide_con?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",!e.checkPassword))},dependencies:[p.O5,a.Fj,a.JJ,a.JL,a.sg,a.u,h.Nt,c.KE,c.hX,c.R9,_.Hw,g.RK]})}return s})();var P=n(4385),I=n(1948),F=n(6709),J=n(4850);const A=[{path:"",component:N,data:{pageName:"settings"}}];let U=(()=>{class s{static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275mod=t.oAB({type:s});static#s=this.\u0275inj=t.cJS({imports:[p.ez,a.u5,a.UX,m.Bz.forChild(A),h.c,P.LD,c.lN,I.Fk,F.p9,_.Ps,J.t,g.ot]})}return s})()}}]);