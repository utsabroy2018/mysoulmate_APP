"use strict";(self.webpackChunkhoroscope=self.webpackChunkhoroscope||[]).push([[262],{4118:(N,l,o)=>{o.r(l),o.d(l,{ChangePasswordModule:()=>D});var c=o(6895),r=o(4006),t=o(4650),m=o(2498),d=o(2761),f=o(5543),a=o(9549),h=o(4144),p=o(7392),u=o(4859),w=o(4238);function _(s,g){1&s&&(t.TgZ(0,"div",6),t._UZ(1,"img",7),t.TgZ(2,"p"),t._uU(3," Link has been expired..!"),t.qZA(),t.TgZ(4,"p"),t._uU(5,'To reset your password,return to the login page and select "forget your password" to send a new email.'),t.qZA()())}function v(s,g){if(1&s&&(t.ynx(0),t._uU(1),t.BQk()),2&s){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.errorPass," ")}}function x(s,g){if(1&s){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",2)(2,"div",9)(3,"h2"),t._uU(4,"Forget Password "),t.qZA()(),t.TgZ(5,"div",10)(6,"div",11)(7,"form",12)(8,"div",13)(9,"div",14)(10,"div",15)(11,"mat-form-field")(12,"mat-label"),t._uU(13,"Enter New Password"),t.qZA(),t.TgZ(14,"input",16),t.NdJ("keyup",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.validatePasswordMatch())}),t.qZA(),t.TgZ(15,"button",17),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.hide_new=!i.hide_new)}),t.TgZ(16,"mat-icon"),t._uU(17),t.qZA()()()()(),t.TgZ(18,"div",14)(19,"div",15)(20,"mat-form-field")(21,"mat-label"),t._uU(22,"Confirm Password"),t.qZA(),t.TgZ(23,"input",18),t.NdJ("keyup",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.validatePasswordMatch())}),t.qZA(),t.TgZ(24,"button",17),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.hide_con=!i.hide_con)}),t.TgZ(25,"mat-icon"),t._uU(26),t.qZA()()(),t.TgZ(27,"small",19),t.YNc(28,v,2,1,"ng-container",20),t.qZA()()(),t.TgZ(29,"input",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.submit())}),t.qZA()()()()()()()}if(2&s){const e=t.oxw();t.xp6(7),t.Q6J("formGroup",e.passwordForm),t.xp6(7),t.Q6J("type",e.hide_new?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",e.hide_new),t.xp6(2),t.Oqu(e.hide_new?"visibility_off":"visibility"),t.xp6(6),t.Q6J("type",e.hide_con?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",e.hide_con),t.xp6(2),t.Oqu(e.hide_con?"visibility_off":"visibility"),t.xp6(2),t.Q6J("ngIf",e.errorPass),t.xp6(1),t.Q6J("disabled",e.passwordForm.invalid||e.isButtonDisabled)}}let C=(()=>{class s{constructor(e,n,i,I){this.service=e,this.router=n,this.route=i,this.sds=I,this.withoutLogin_headerShow=!1,this.afterLogin_headerShow=!0,this.isButtonDisabled=!1,this.linkExpired=!1,this.hide_old=!0,this.hide_new=!0,this.hide_con=!0,this.passwordForm=new r.cw({new_pass_1:new r.NI("",[r.kI.required]),new_pass:new r.NI("",[r.kI.required])}),this.profile_UserIdGet=this.sds.decrypt(this.route.snapshot.paramMap.get("email_Id")),this.isLogin=this.service.login(),this.isLogin?(this.afterLogin_headerShow=!1,this.withoutLogin_headerShow=!0):(this.afterLogin_headerShow=!0,this.withoutLogin_headerShow=!1)}ngOnInit(){this.currentDate=new Date,console.log(this.currentDate,"currentDate");const e=this.currentDate.getTime()-864e5;this.twentyFourHoursAgo=new Date(e),console.log(this.twentyFourHoursAgo,"twentyFourHoursAgo"),this.twentyFourHoursAgo<this.currentDate?(this.linkExpired=!0,console.log("Link has been expired","currentDate")):console.log("twentyFourHoursAgo")}submit(){this.passData={email_id:this.profile_UserIdGet,pass:this.passwordForm.controls.new_pass_1.value},console.log(this.passData),this.service.global_service(1,"/profile/update_forget_pass",{data:btoa(JSON.stringify(this.passData))}).subscribe(e=>{console.log(e)})}validatePasswordMatch(){const e=this.passwordForm.get("new_pass_1")?.value,n=this.passwordForm.get("new_pass")?.value;e===n?(this.passwordForm.setErrors(null),this.errorPass="",this.isButtonDisabled=!1):(this.errorPass="*Confirm password should be same as new password",this.isButtonDisabled=!0)}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(m.D),t.Y36(d.F0),t.Y36(d.gz),t.Y36(f.U))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-change-password"]],decls:6,vars:3,consts:[[3,"hidden"],[1,"otp_wrapper"],[1,"col-sm-12"],[1,"white_block_forget","white_blockOTP"],["class","expired",4,"ngIf"],["class","row",4,"ngIf"],[1,"expired"],["src","assets/images/expired.png","alt",""],[1,"row"],[1,"title_sec_main"],[1,"innerDefaultPage"],[1,"otpField_Main"],["autocomplete","off",3,"formGroup"],[1,"otpField_Main_sub"],[1,"otpField_Sub_field"],[1,"field_outer_label","field_outer_label_OTP"],["matInput","","formControlName","new_pass_1",3,"type","keyup"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","formControlName","new_pass",3,"type","keyup"],[1,"text-danger"],[4,"ngIf"],["type","button","value","Submit",3,"disabled","click"]],template:function(n,i){1&n&&(t._UZ(0,"app-Before_login_header_N_Home",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,_,6,0,"div",4),t.YNc(5,x,30,11,"div",5),t.qZA()()()),2&n&&(t.Q6J("hidden",i.withoutLogin_headerShow),t.xp6(4),t.Q6J("ngIf",!i.linkExpired),t.xp6(1),t.Q6J("ngIf",i.linkExpired))},dependencies:[c.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,a.KE,a.hX,a.R9,h.Nt,p.Hw,u.RK,w.j],styles:[".white_block_forget[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 0 18px 2px #cecece;padding:45px 20px;display:inline-block;width:100%;margin-bottom:40px;margin-top:40px}.expired[_ngcontent-%COMP%]{height:30vh;display:flex;align-items:center;color:red;font-size:16px;flex-direction:column;align-content:stretch;font-weight:bolder}.expired[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px}"]})}return s})();var y=o(4385),P=o(1948),b=o(6709),Z=o(4850),T=o(2570),F=o(8874);const A=[{path:"",component:C}];let D=(()=>{class s{static#t=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275mod=t.oAB({type:s});static#o=this.\u0275inj=t.cJS({imports:[c.ez,r.u5,r.UX,y.LD,a.lN,h.c,P.Fk,b.p9,p.Ps,Z.t,u.ot,T.t,F.I,d.Bz.forChild(A)]})}return s})()}}]);